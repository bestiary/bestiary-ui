.b-message {
    /* --- Local Component Tokens --- */
    --b-message-height:           0;
    /* Використовуємо чисті семантичні токени з Habitat */
    --b-message-padding-x:        var(--b-space-3);
    --b-message-padding-y:        var(--b-space-2);
    --b-message-gap:              var(--b-space-2);

    --b-message-border-width:     var(--b-border-width, 1px);
    --b-message-border-style:     solid;
    --b-message-border-radius:    var(--b-radius-interactive);

    /* Дефолтні значення (Info за замовчуванням) */
    --b-message-background:       var(--b-info-subtle-background);
    --b-message-border-color:     var(--b-info-subtle-border);
    --b-message-text-color:       var(--b-info-subtle-text);
    --b-message-accent-color:     var(--b-info-outline-text);

    --b-message-font-size:        var(--b-font-size-sm);
    --b-message-transition:       var(--b-duration-normal);
    --b-message-icon-size:        var(--b-message-font-size);

    /* Close Button Tokens */
    --b-message-close-size:       24px;
    --b-message-close-radius:     var(--b-radius-full);
    --b-message-close-hover-bg:   var(--b-overlay-hover); /* Універсальний ховер з контракту */

    --b-message-transition-duration: var(--b-duration-normal);
    --b-message-transition-easing:   var(--b-ease-in-out);
    --b-message-transition-offset:   var(--b-motion-offset-y);

    display: flex;
    align-items: center;
    position: relative;
    box-sizing: border-box;
    transition: var(--b-message-transition);

    background-color: var(--b-message-background);
    color: var(--b-message-text-color);
    border: var(--b-message-border-width) var(--b-message-border-style) var(--b-message-border-color);
    border-radius: var(--b-message-border-radius);
    min-height: var(--b-message-height);
}

.b-message__content {
    flex: 1;
    display: flex;
    align-items: center;
    gap: var(--b-message-gap);
    padding: var(--b-message-padding-y) var(--b-message-padding-x);
}

.b-message__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    width: var(--b-message-icon-size);
    height: var(--b-message-icon-size);
}

.b-message__text {
    flex: 1;
    font-size: var(--b-message-font-size);
    font-weight: var(--b-font-weight-medium);
}

.b-message__close-button {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;

    width: var(--b-message-close-size);
    height: var(--b-message-close-size);
    border-radius: var(--b-message-close-radius);
    background: transparent;
    border: none;
    color: inherit;
    cursor: pointer;
    transition: background-color 0.2s;
    margin-inline-start: var(--b-space-2);
}

.b-message__close-button:hover {
    background-color: var(--b-message-close-hover-bg);
}

/* ==========================================
   SEVERITY (Синхронізовано з contract.css)
   ========================================== */

.b-message--severity-success {
    --b-message-background:     var(--b-success-subtle-background);
    --b-message-border-color:   var(--b-success-subtle-border);
    --b-message-text-color:     var(--b-success-subtle-text);
    --b-message-accent-color:   var(--b-success-outline-text);
}

.b-message--severity-info {
    --b-message-background:     var(--b-info-subtle-background);
    --b-message-border-color:   var(--b-info-subtle-border);
    --b-message-text-color:     var(--b-info-subtle-text);
    --b-message-accent-color:   var(--b-info-outline-text);
}

.b-message--severity-warn {
    --b-message-background:     var(--b-warning-subtle-background);
    --b-message-border-color:   var(--b-warning-subtle-border);
    --b-message-text-color:     var(--b-warning-subtle-text);
    --b-message-accent-color:   var(--b-warning-outline-text);
}

.b-message--severity-error {
    --b-message-background:     var(--b-error-subtle-background);
    --b-message-border-color:   var(--b-error-subtle-border);
    --b-message-text-color:     var(--b-error-subtle-text);
    --b-message-accent-color:   var(--b-error-outline-text);
}

.b-message--severity-secondary {
    --b-message-background:     var(--b-secondary-subtle-background);
    --b-message-border-color:   var(--b-secondary-subtle-border);
    --b-message-text-color:     var(--b-secondary-subtle-text);
    --b-message-accent-color:   var(--b-secondary-outline-text);
}

.b-message--severity-contrast {
    --b-message-background:     var(--b-contrast-solid-background);
    --b-message-border-color:   var(--b-contrast-outline-border);
    --b-message-text-color:     var(--b-contrast-solid-text);
    --b-message-accent-color:   var(--b-contrast-outline-text);
}

/* ==========================================
   VARIANTS
   ========================================== */

.b-message--variant-outline {
    --b-message-background: transparent;
    --b-message-text-color: var(--b-message-accent-color);
    --b-message-border-color: var(--b-message-accent-color);
}

.b-message--variant-simple {
    --b-message-background: transparent;
    --b-message-border-width: 0;
    --b-message-text-color: var(--b-message-accent-color);
}

/* ==========================================
   SIZES (Використовуємо семантичні space-x)
   ========================================== */
.b-message--size-small   {
    --b-message-padding-x: var(--b-space-2);
    --b-message-padding-y: var(--b-space-1);
    --b-message-font-size: var(--b-font-size-sm);
}
.b-message--size-medium  {
    --b-message-padding-x: var(--b-space-3);
    --b-message-padding-y: var(--b-space-2);
    --b-message-font-size: var(--b-font-size-md);
}
.b-message--size-large   {
    --b-message-padding-x: var(--b-space-4);
    --b-message-padding-y: var(--b-space-3);
    --b-message-font-size: var(--b-font-size-md);
}

.b-message--size-xlarge  {
    --b-message-padding-x: var(--b-space-5);
    --b-message-padding-y: var(--b-space-4);
    --b-message-font-size: var(--b-font-size-lg);
}

/* ==========================================
   ANIMATIONS (Vue Transition)
   ========================================== */
.b-message--fade-enter-active,
.b-message--fade-leave-active {
    transition:
            opacity var(--b-message-transition-duration) var(--b-message-transition-easing),
            transform var(--b-message-transition-duration) var(--b-message-transition-easing);
}

.b-message--fade-enter-from,
.b-message--fade-leave-to {
    opacity: 0;
    transform: translateY(var(--b-message-transition-offset));
}